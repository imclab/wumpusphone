 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241197089.0, :request=>#<URI::Generic:0x12e137c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:842:in `play_numeric'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:43:in `verify_attempt'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:18:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `loop'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:3:in `simon_game'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241197187.1, :request=>#<URI::Generic:0x129a594 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:842:in `play_numeric'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:43:in `verify_attempt'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:18:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `loop'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:3:in `simon_game'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 10:00:06 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241197214.2, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:842:in `play_numeric'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:43:in `verify_attempt'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:18:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `loop'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:15:in `start'
     /Users/saizai/Dropbox/workspace/testphoneapp/components/simon_game/simon_game.rb:3:in `simon_game'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 10:02:16 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241197344.3, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 10:17:29 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198260.4, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198268.5, :request=>#<URI::Generic:0x12b2bbc URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198345.6, :request=>#<URI::Generic:0x129c6b4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: Can only be called with valid digits!>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:895:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/object/misc.rb:39:in `returning'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:894:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:718:in `say_digits'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 10:19:09 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198353.7, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: Can only be called with valid digits!>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:895:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/object/misc.rb:39:in `returning'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:894:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:718:in `say_digits'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198358.8, :request=>#<URI::Generic:0x12b10c8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `say' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x12acfb4>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198392.9, :request=>#<URI::Generic:0x129a094 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198423.1, :request=>#<URI::Generic:0x1288e84 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198427.11, :request=>#<URI::Generic:0x126e3e0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198462.12, :request=>#<URI::Generic:0x125b150 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198463.13, :request=>#<URI::Generic:0x1253428 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 10:21:05 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198468.14, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198469.15, :request=>#<URI::Generic:0x12b482c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198470.16, :request=>#<URI::Generic:0x12a6998 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198471.17, :request=>#<URI::Generic:0x1293550 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198478.18, :request=>#<URI::Generic:0x127e470 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198479.19, :request=>#<URI::Generic:0x12697f0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 10:21:21 -0700 2009.
 INFO events: Performing a graceful stop of events subsystem
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198483.2, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198484.21, :request=>#<URI::Generic:0x12b482c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198485.22, :request=>#<URI::Generic:0x12a6998 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198488.23, :request=>#<URI::Generic:0x1293550 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198508.24, :request=>#<URI::Generic:0x127e470 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198521.25, :request=>#<URI::Generic:0x1265038 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198531.26, :request=>#<URI::Generic:0x12581bc URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198606.27, :request=>#<URI::Generic:0x1245ae4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198618.28, :request=>#<URI::Generic:0x122ca58 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 10:23:54 -0700 2009.
ERROR agi: #<RuntimeError: stop>
ERROR agi:      /opt/local/lib/ruby/1.8/gserver.rb:241:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:736:in `wait_for_digit'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:855:in `play_sound_files_for_menu'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:318:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198983.29, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x12be78c>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198984.3, :request=>#<URI::Generic:0x12b0ec0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x12ace74>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198985.31, :request=>#<URI::Generic:0x129cac4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x1297b50>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241198999.32, :request=>#<URI::Generic:0x12895b4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x127ef74>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199096.33, :request=>#<URI::Generic:0x126d2d8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x1264ea8>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199108.34, :request=>#<URI::Generic:0x125a368 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `filename' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x1257a78>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:3:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Adhearsion initialized!
FATAL ahn: Failed to start AGI server! #<Errno::EADDRINUSE: Address already in use - bind(2)>
 INFO ahn: Adhearsion initialized!
FATAL ahn: Failed to start AGI server! #<Errno::EADDRINUSE: Address already in use - bind(2)>
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199219.35, :request=>#<URI::Generic:0x12482e4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:77:in `answer'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:48:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 10:33:58 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831a00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199245.36, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 10:34:14 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00838e00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199290.38, :request=>#<URI::Generic:0x12e13a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00838e00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199291.39, :request=>#<URI::Generic:0x12b4fc0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00838e00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199292.4, :request=>#<URI::Generic:0x12a6bb4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00838e00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241199293.41, :request=>#<URI::Generic:0x1293ba4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202129.42, :request=>#<URI::Generic:0x127ee5c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202203.43, :request=>#<URI::Generic:0x126a754 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202262.44, :request=>#<URI::Generic:0x125b754 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Shutting down gracefully at Fri May 01 11:24:25 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202268.45, :request=>#<URI::Generic:0x12e10c0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202290.46, :request=>#<URI::Generic:0x12b5218 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `wait' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x12b040c>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 11:24:54 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-0083a600", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202298.47, :request=>#<URI::Generic:0x12e1214 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<NoMethodError: undefined method `wait' for #<Adhearsion::DialPlan::ExecutionEnvironment:0x12be7a0>>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:2:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-0083be00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202310.48, :request=>#<URI::Generic:0x12b1064 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202326.49, :request=>#<URI::Generic:0x12a131c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202440.5, :request=>#<URI::Generic:0x128fdd8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202456.51, :request=>#<URI::Generic:0x1279ac4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202657.52, :request=>#<URI::Generic:0x1264aac URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202665.53, :request=>#<URI::Generic:0x12574d8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202781.54, :request=>#<URI::Generic:0x1241f70 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: Can only be called with valid digits!>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:895:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/object/misc.rb:39:in `returning'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:894:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:718:in `say_digits'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:5:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/menu_state_machine/menu_class.rb:19:in `initialize'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `new'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202785.55, :request=>#<URI::Generic:0x1234cf8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: Can only be called with valid digits!>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:895:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/object/misc.rb:39:in `returning'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:894:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:718:in `say_digits'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:5:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/menu_state_machine/menu_class.rb:19:in `initialize'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `new'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202791.56, :request=>#<URI::Generic:0x12219b4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: Can only be called with valid digits!>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:895:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/object/misc.rb:39:in `returning'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:894:in `validate_digits'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:718:in `say_digits'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:5:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/menu_state_machine/menu_class.rb:19:in `initialize'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `new'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202818.57, :request=>#<URI::Generic:0x1219034 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202845.58, :request=>#<URI::Generic:0x1204134 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202874.59, :request=>#<URI::Generic:0x11efb44 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00837c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241202977.6, :request=>#<URI::Generic:0x11dcf94 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241203057.61, :request=>#<URI::Generic:0x11caf9c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<ArgumentError: wrong number of arguments (1 for 0)>
ERROR agi:      /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:7:in `read'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:7:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/menu_state_machine/menu_class.rb:19:in `initialize'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `new'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:297:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241203080.62, :request=>#<URI::Generic:0x11c1d98 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: HANGUP event for call with uniqueid 1241203080.62 and channel "SIP/xlite1-00836400"
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241203254.63, :request=>#<URI::Generic:0x11b43a0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00836400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241203296.64, :request=>#<URI::Generic:0x11ab3a4 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:736:in `wait_for_digit'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:855:in `play_sound_files_for_menu'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:318:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:4:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO ahn: Shutting down gracefully at Fri May 01 11:51:07 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241204062.0, :request=>#<URI::Generic:0x12e10c0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241204132.1, :request=>#<URI::Generic:0x12ad7ac URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO ahn: Adhearsion initialized!
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241207149.4, :request=>#<URI::Generic:0x12e10c0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:742:in `interruptable_play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:741:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:741:in `interruptable_play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:853:in `play_sound_files_for_menu'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:318:in `menu'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:5:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241207210.5, :request=>#<URI::Generic:0x12b0380 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00830200", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241207401.6, :request=>#<URI::Generic:0x129d384 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241208047.0, :request=>#<URI::Generic:0x12840a0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241208240.2, :request=>#<URI::Generic:0x126a254 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241208257.4, :request=>#<URI::Generic:0x125a160 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>8000, :uniqueid=>1241208889.5, :request=>#<URI::Generic:0x1249108 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>8000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:847:in `play_string'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:19:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>6, :uniqueid=>1241208901.0, :request=>#<URI::Generic:0x1238b14 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>6, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>6, :uniqueid=>1241208901.0, :request=>#<URI::Generic:0x1225564 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>12345678901, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:847:in `play_string'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:19:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>2, :uniqueid=>1241208943.2, :request=>#<URI::Generic:0x121da30 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>2, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>2, :uniqueid=>1241208943.2, :request=>#<URI::Generic:0x12146b0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>5, :uniqueid=>1241208961.3, :request=>#<URI::Generic:0x12068f8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>5, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00831400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>5, :uniqueid=>1241208961.3, :request=>#<URI::Generic:0x11f4e78 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:543:in `get_variable'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:156:in `record'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:9:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209004.4, :request=>#<URI::Generic:0x11e40a0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>4, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: HANGUP event for call with uniqueid 1241209004.4 and channel "SIP/xlite1-00832c00"
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209004.4, :request=>#<URI::Generic:0x11d8a98 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209471.5, :request=>#<URI::Generic:0x11cd990 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>4, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209471.5, :request=>#<URI::Generic:0x11c28b0 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>12345678901, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
ERROR agi: #<Errno::ECONNRESET: Connection reset by peer>
ERROR agi:      /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `gets'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:50:in `read'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:65:in `raw_response'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:98:in `execute'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:847:in `play_string'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:130:in `play'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `each'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/commands.rb:129:in `play'
     /Users/saizai/Dropbox/workspace/testphoneapp/dialplan.rb:22:in `load'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `instance_eval'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:50:in `run'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:105:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/dial_plan.rb:81:in `handle'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:23:in `serve'
     /opt/local/lib/ruby/1.8/gserver.rb:211:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:208:in `start'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `initialize'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `new'
     /opt/local/lib/ruby/1.8/gserver.rb:198:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/voip/asterisk/agi_server.rb:69:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer/asterisk.rb:56:in `join_server_thread_after_initialized'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `call'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:66:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `map'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/theatre.rb:63:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/events_support.rb:47:in `trigger_immediately'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:349:in `trigger_after_initialized_hooks'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:143:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/initializer.rb:92:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:129:in `start'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `send'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/lib/adhearsion/cli.rb:19:in `execute!'
     /opt/local/lib/ruby/gems/1.8/gems/adhearsion-0.8.2/bin/ahn:28
     /opt/local/bin/ahn:19:in `load'
     /opt/local/bin/ahn:19
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209591.7, :request=>#<URI::Generic:0x11b519c URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>4, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Handling call with variables {:channel=>"SIP/xlite1-00832c00", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>4, :uniqueid=>1241209591.7, :request=>#<URI::Generic:0x11ad3e8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>"Jane Smith", :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>5678, :context=>"adhearsion", :accountcode=>"", :extension=>"h", :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO agi: Received "h" meta-call. Executing /asterisk/hungup_call event callbacks.
 INFO ahn: Shutting down gracefully at Fri May 01 13:37:32 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "15105263086@361087430" in 0 active calls
 INFO ahn: Shutting down gracefully at Fri May 01 13:38:29 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15105263086@361087430" in 0 active calls
 INFO ahn: Shutting down gracefully at Fri May 01 13:39:19 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/15106499411@361087430" in 0 active calls
 INFO ahn: Shutting down gracefully at Fri May 01 13:40:29 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "SIP/16505752552@361087430" in 0 active calls
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552@361087430" in 0 active calls
ERROR ami_remote: AMI has not been enabled in startup.rb!
ERROR ami_remote: AMI has not been enabled in startup.rb!
 INFO ahn: Shutting down gracefully at Fri May 01 19:23:02 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami: Connection refused when connecting to AMI! Please check your configuration.
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 INFO ahn: Adhearsion initialized!
ERROR ami: Connection refused when connecting to AMI! Please check your configuration.
FATAL ahn: Failed to start AGI server! #<Errno::EADDRINUSE: Address already in use - bind(2)>
 INFO ahn: Shutting down gracefully at Fri May 01 19:23:46 -0700 2009.
 INFO ahn: Adhearsion initialized!
ERROR ami: Connection refused when connecting to AMI! Please check your configuration.
 INFO ahn: Shutting down gracefully at Fri May 01 19:28:44 -0700 2009.
 INFO ahn: Adhearsion initialized!
 INFO ami: Successful AMI actions-only connection into ahn_ami@127.0.0.1
 INFO ami: Successful AMI events-only connection into ahn_ami@127.0.0.1
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 INFO agi: Handling call with variables {:channel=>"SIP/361087430-00832000", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>nil, :uniqueid=>1241231383.0, :request=>#<URI::Generic:0x18a4b38 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>nil, :context=>"adhearsion", :accountcode=>"", :extension=>1000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 INFO click_to_call: Finding call with destination nil in 0 active calls
 INFO agi: Handling call with variables {:channel=>"SIP/361087430-0083b800", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>nil, :uniqueid=>1241232086.2, :request=>#<URI::Generic:0x1930534 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>nil, :context=>"adhearsion", :accountcode=>"", :extension=>1000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO click_to_call: Finding call with destination nil in 0 active calls
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 INFO click_to_call: Finding call with destination "15106499411" in 0 active calls
 INFO agi: Handling call with variables {:channel=>"SIP/361087430-0083b800", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>nil, :uniqueid=>1241232388.3, :request=>#<URI::Generic:0x18adf80 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>nil, :context=>"adhearsion", :accountcode=>"", :extension=>1000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 WARN deprecation: The implementation of the ping, originate, introduce, hangup, call_into_context and call_and_exec methods will soon be moved from this class to SuperManager. At the moment, the SuperManager abstractions are not completed. Don't worry. The migration to SuperManager will be very easy. See http://docs.adhearsion.com/AMI for more information.
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO click_to_call: Finding call with destination "16505752552" in 0 active calls
 INFO agi: Handling call with variables {:channel=>"SIP/361087430-0083c400", :type=>"SIP", :callingani2=>0, :enhanced=>0.0, :dnid=>nil, :uniqueid=>1241233227.8, :request=>#<URI::Generic:0x19616e8 URL:agi://127.0.0.1>, :callingpres=>0, :calleridname=>nil, :language=>"en", :query=>{}, :callingtns=>0, :rdnis=>nil, :callerid=>nil, :context=>"adhearsion", :accountcode=>"", :extension=>1000, :type_of_calling_number=>:unknown, :network=>true, :priority=>1}
 INFO click_to_call: Finding call with destination "16505752552" in 1 active calls
 INFO ahn: Shutting down gracefully at Fri May 01 20:08:16 -0700 2009.
